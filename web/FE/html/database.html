<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Protein Database Search</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800;900&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,0..200" rel="stylesheet"/>
<link rel="stylesheet" href="../css/database.css"/>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    "primary": "#3B82F6",
                    "primary-light": "#DBEAFE",
                    "accent": "#EC4899",
                    "accent-light": "#FCE7F3",
                    "background-light": "#ffffff",
                    "background-dark": "#020617",
                    "dark-surface": "#0f172a",
                    "dark-border": "#1e293b"
                },
                fontFamily: {
                    "display": ["Inter", "sans-serif"]
                },
                borderRadius: {
                    "DEFAULT": "0.25rem",
                    "lg": "0.5rem",
                    "xl": "0.75rem",
                    "full": "9999px"
                }
            },
        },
    }
</script>
<style>
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
</style>
</head>
<body class="bg-background-light min-h-screen font-display text-gray-900">

<!-- Header -->
<header class="w-full py-6 bg-gradient-to-br from-blue-600 via-cyan-600 to-teal-700 relative overflow-hidden shadow-xl">
    <!-- Animated background elements -->
    <div class="absolute inset-0 opacity-10">
        <div class="absolute -top-4 -left-4 w-72 h-72 bg-white rounded-full mix-blend-multiply filter blur-xl animate-pulse"></div>
        <div class="absolute -top-4 -right-4 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse"></div>
        <div class="absolute -bottom-8 left-20 w-72 h-72 bg-cyan-300 rounded-full mix-blend-multiply filter blur-xl animate-pulse"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <div class="flex items-center justify-between max-w-screen-xl mx-auto">
            <div class="flex items-center gap-4 text-white">
                <div class="size-10 text-white animate-pulse">
                    <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z" fill="currentColor"></path>
                    </svg>
                </div>
                <div>
                    <h1 class="text-xl font-black leading-tight tracking-[-0.015em] drop-shadow-lg">ProteinPredict</h1>
                    <p class="text-cyan-100 text-xs mt-0.5 opacity-90">AI-Powered Research Platform</p>
                </div>
            </div>
            <nav class="flex items-center gap-6">
                <a href="home.html" class="text-sm text-white/80 hover:text-white transition-colors">Home</a>
                <a href="input.html" class="text-sm text-white/80 hover:text-white transition-colors">Predict</a>
                <a href="database.html" class="text-sm font-semibold text-white border-b-2 border-white pb-0.5">Database</a>
                <a href="advanced.html" class="text-sm text-white/80 hover:text-white transition-colors">Advanced</a>
            </nav>
        </div>
    </div>
</header>

<!-- Page Title Section -->
<div class="bg-gray-50 border-b border-gray-200">
    <div class="container mx-auto max-w-screen-xl px-6 py-8">
        <div class="flex items-center gap-4">
            <div class="grid place-items-center bg-primary-light text-primary rounded-full size-14">
                <span class="material-symbols-outlined text-3xl">database</span>
            </div>
            <div>
                <h2 class="text-3xl font-bold text-gray-900 tracking-tight">Protein Database</h2>
                <p class="text-gray-600 mt-1">Search and explore our comprehensive protein database</p>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<main class="max-w-screen-xl mx-auto px-6 py-6">
    <div class="flex gap-6">
        
        <!-- Sidebar Filters -->
        <aside class="w-64 flex-shrink-0">
            <div class="border border-gray-200 bg-white rounded-lg overflow-hidden">
                <!-- Filter Header -->
                <div class="px-4 py-3 bg-gray-50 border-b border-gray-200 flex justify-between items-center">
                    <span class="font-semibold text-sm text-gray-800">Filters</span>
                    <button class="text-xs text-primary hover:text-blue-700 hover:underline font-medium" onclick="clearAllFilters()">Clear all</button>
                </div>
                
                <!-- Stats -->
                <div class="px-4 py-3 border-b border-gray-200">
                    <table class="w-full text-sm">
                        <tr>
                            <td class="text-gray-600 py-1">Total proteins:</td>
                            <td class="text-right font-semibold" id="total-proteins">8</td>
                        </tr>
                        <tr>
                            <td class="text-gray-600 py-1">Filtered:</td>
                            <td class="text-right font-semibold text-primary" id="filtered-count">8</td>
                        </tr>
                    </table>
                </div>

                <!-- Organism Filter -->
                <div class="px-4 py-3 border-b border-gray-200">
                    <h4 class="font-semibold text-sm text-gray-800 mb-3">Organism</h4>
                    <div class="space-y-2">
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="organism-homo"/>
                            <span>Homo sapiens</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="organism-mus"/>
                            <span>Mus musculus</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="organism-other"/>
                            <span>Other Organisms</span>
                        </label>
                    </div>
                </div>

                <!-- Function Category Filter -->
                <div class="px-4 py-3 border-b border-gray-200">
                    <h4 class="font-semibold text-sm text-gray-800 mb-3">Function Category</h4>
                    <div class="space-y-2">
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="func-kinase"/>
                            <span>Kinase</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="func-enzyme"/>
                            <span>Enzyme</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="func-receptor"/>
                            <span>Receptor</span>
                        </label>
                        <label class="flex items-center gap-2 text-sm text-gray-700 cursor-pointer hover:text-gray-900">
                            <input class="w-4 h-4 border-gray-400 text-primary focus:ring-primary" type="checkbox" onchange="applyFilters()" id="func-protease"/>
                            <span>Protease</span>
                        </label>
                    </div>
                </div>

                <!-- Protein Length Filter -->
                <div class="px-4 py-3 border-b border-gray-200">
                    <h4 class="font-semibold text-sm text-gray-800 mb-3">Protein Length (AA)</h4>
                    <div class="flex items-center gap-2">
                        <input type="number" id="length-min" placeholder="Min" class="w-full px-2 py-1.5 border border-gray-300 text-sm focus:outline-none focus:border-primary" oninput="applyFilters()"/>
                        <span class="text-gray-400">–</span>
                        <input type="number" id="length-max" placeholder="Max" class="w-full px-2 py-1.5 border border-gray-300 text-sm focus:outline-none focus:border-primary" oninput="applyFilters()"/>
                    </div>
                </div>

                <!-- Molecular Weight Filter -->
                <div class="px-4 py-3">
                    <h4 class="font-semibold text-sm text-gray-800 mb-3">Molecular Weight (Da)</h4>
                    <div class="flex items-center gap-2">
                        <input type="number" id="weight-min" placeholder="Min" class="w-full px-2 py-1.5 border border-gray-300 text-sm focus:outline-none focus:border-primary" oninput="applyFilters()"/>
                        <span class="text-gray-400">–</span>
                        <input type="number" id="weight-max" placeholder="Max" class="w-full px-2 py-1.5 border border-gray-300 text-sm focus:outline-none focus:border-primary" oninput="applyFilters()"/>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Results Area -->
        <div class="flex-1">
            <!-- Search Bar -->
            <div class="mb-4">
                <div class="flex border border-gray-200 rounded-lg overflow-hidden bg-white">
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Search by Protein Name, UniProt ID, Gene..." 
                        class="flex-1 px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary/30 focus:ring-inset border-0"
                    />
                    <button 
                        onclick="performSearchFromButton()" 
                        class="px-6 py-3 bg-primary text-white text-sm font-semibold hover:bg-blue-700 transition-colors"
                    >
                        Search
                    </button>
                </div>
            </div>

            <!-- Result Info -->
            <div class="mb-4 flex items-center justify-between">
                <p class="text-sm text-gray-600">
                    Showing <strong id="result-count">8</strong> results
                    <span id="search-query-wrapper" class="hidden"> for "<span id="search-query"></span>"</span>
                </p>
                <div class="flex items-center gap-2 text-sm">
                    <label class="text-gray-600">Sort by:</label>
                    <select class="border border-gray-300 px-2 py-1 text-sm focus:outline-none focus:border-primary">
                        <option>ID</option>
                        <option>Name</option>
                        <option>Length</option>
                        <option>Weight</option>
                    </select>
                </div>
            </div>

            <!-- Results Table -->
            <div class="border border-gray-200 rounded-lg overflow-hidden bg-white">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="bg-gray-50 border-b border-gray-200">
                            <th class="text-left py-3 px-3 font-semibold text-gray-700 border-r border-gray-100 w-16">Action</th>
                            <th class="text-left py-3 px-3 font-semibold text-gray-700 border-r border-gray-100">ID</th>
                            <th class="text-left py-3 px-3 font-semibold text-gray-700 border-r border-gray-100">Recommended Name</th>
                            <th class="text-left py-3 px-3 font-semibold text-gray-700 border-r border-gray-100 w-24">Gene</th>
                            <th class="text-left py-3 px-3 font-semibold text-gray-700 border-r border-gray-100 w-28">Organism</th>
                            <th class="text-right py-3 px-3 font-semibold text-gray-700 border-r border-gray-100 w-20">Length</th>
                            <th class="text-right py-3 px-3 font-semibold text-gray-700 border-r border-gray-100 w-24">Mol. Weight</th>
                            <th class="text-left py-3 px-3 font-semibold text-gray-700">Function</th>
                        </tr>
                    </thead>
                    <tbody id="protein-table-body">
                        <!-- Data will be loaded here -->
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="mt-4 flex items-center justify-between">
                <p class="text-sm text-gray-600">
                    Page <span id="current-page">1</span> of <span id="total-pages">1</span>
                </p>
                <nav class="flex items-center gap-1" id="pagination">
                    <!-- Pagination will be generated here -->
                </nav>
            </div>
        </div>
    </div>
</main>

<!-- Footer -->
<footer class="w-full border-t border-gray-200/30 bg-gray-900 mt-8">
    <div class="container mx-auto max-w-screen-xl px-4 py-8 sm:px-6 lg:px-8">
        <div class="flex flex-col items-center justify-between gap-6 sm:flex-row">
            <div class="flex items-center gap-3">
                <div class="size-5 text-gray-600">
                    <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z" fill="currentColor"></path>
                    </svg>
                </div>
                <p class="text-sm text-gray-600">© 2025 ProteinPredict. All rights reserved.</p>
            </div>
            <div class="flex gap-6">
                <a class="text-sm text-gray-600 hover:text-accent" href="#">Documentation</a>
                <a class="text-sm text-gray-600 hover:text-accent" href="#">Contact</a>
                <a class="text-sm text-gray-600 hover:text-accent" href="#">Terms of Service</a>
            </div>
        </div>
    </div>
</footer>

<script src="../js/database.js"></script>
<script src="../js/utils.js"></script>
</body>
</html>